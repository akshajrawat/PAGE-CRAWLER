services:
  # --- SERVICE: REDIS (The Nervous System) ---
  # Supabase handles the DB, but we still need Redis for our Queues.
  redis:
    image: redis:alpine
    container_name: searchscale-redis
    ports:
      - "6379:6379" # Exposed so your Node.js app can talk to it
    volumes:
      - redis_data:/data
    command: redis-server --appendonly yes # Persists data to disk
    restart: always

volumes:
  redis_data:
    # This ensures Redis memory survives a restart
